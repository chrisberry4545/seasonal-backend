service: seasonal-backend

provider:
  name: aws
  runtime: nodejs8.10
  stage: prod
  region: eu-west-2
  environment: ${file(.env.yml)}

functions:
  seasonData:
    handler: index-serverless.handler
    events:
      - http:
          path: ${file(.env.yml):V1_ENDPOINT}/${file(.env.yml):SEASON_DATA_ENDPOINT}
          method: get
      - http:
          path: ${file(.env.yml):V1_ENDPOINT}/${file(.env.yml):SEASON_DATA_ENDPOINT}/{id}
          method: get
          request:
            parameters:
              paths:
                id: true
  foodData:
    handler: index-serverless.handler
    events:
      - http:
          path: ${file(.env.yml):V1_ENDPOINT}/${file(.env.yml):FOOD_DATA_ENDPOINT}/{id}
          method: get
          request:
            parameters:
              paths:
                id: true
